<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
</head>
<body style="background:#000; color:#0f0; text-align:center; font-family:mono; padding:20px;">
    <h2 style="color:white;">SISTEMA NEO PISK v3.0</h2>
    <div style="border:2px solid #0f0; padding:20px; border-radius:10px;">
        <p>Introduce cantidad a enviar:</p>
        <input type="number" id="monto" value="0.5" step="0.1" style="width:80%; padding:10px; font-size:1.5em;">
        <br><br>
        <button onclick="transferenciaDirecta()" style="width:100%; padding:20px; background:#0f0; color:#000; font-weight:bold; border:none; border-radius:5px; font-size:1.2em;">
            CONFIRMAR ENVÍO
        </button>
        <p id="msg" style="margin-top:20px;">Esperando acción...</p>
    </div>

<script>
    async function transferenciaDirecta() {
        const msg = document.getElementById('msg');
        try {
            if (!window.ethereum) return alert("Usa MetaMask");
            const provider = new ethers.providers.Web3Provider(window.ethereum);
            await provider.send("eth_requestAccounts", []);
            const signer = provider.getSigner();
            
            // Esta es tu billetera que recibe
            const destino = "0x8503C3193E94F8628043657C6C8a21B320fB0931";
            const valor = document.getElementById('monto').value;

            msg.innerText = "Abriendo MetaMask...";
            
            // Envío directo sin importar el tipo de contrato
            const tx = await signer.sendTransaction({
                to: destino,
                value: ethers.utils.parseEther(valor) 
            });

            msg.innerText = "Procesando...";
            await tx.wait();
            msg.innerText = "¡ENVÍO COMPLETADO!";
        } catch (e) {
            msg.innerText = "Error: Verifica saldo o red.";
        }
    }
</script>
</body>
</html>
